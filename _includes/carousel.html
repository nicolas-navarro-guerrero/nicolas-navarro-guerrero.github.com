{% assign project = include.project %}
{% assign image_folder = "assets/img" | append: project.slug %}
{% assign images = site.static_files | where_exp: "file", "file.path contains image_folder" %}

{% if images.size > 0 %}
<h3 class="pt-5">Gallery</h3>
<div class="container-fluid p-0">
  <div class="w-100 p-2 bg-white rounded position-relative overflow-hidden"
       style="height: 500px;">
    
    <div id="carousel-indicators" class="carousel slide w-100 h-100" data-bs-ride="carousel" data-bs-interval="10000">
      
      <div class="carousel-inner w-100 h-100">
        {% for image in images %}
          <div class="carousel-item w-100 h-100 {% if forloop.first %}active{% endif %}">
            <img src="{{ image.path | relative_url }}"
                 class="d-block mx-auto position-absolute top-50 start-50 translate-middle mh-100 mw-100 object-fit-contain"
                 alt="image">
          </div>
        {% endfor %}
      </div>
      {% if images.size > 1 %}
      <button class="carousel-control-prev" type="button" data-bs-target="#carousel-indicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bg-secondary" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>

      <button class="carousel-control-next" type="button" data-bs-target="#carousel-indicators" data-bs-slide="next">
        <span class="carousel-control-next-icon bg-secondary" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
      {% endif %}

    </div>
  </div>
</div>
{% endif %}